{% extends "layout.html" %}
{% block title %}Graph{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block content %}
<div id="fullpage">
    <div class="section container-fluid graph-section text-center">
        <h1>Week Timeline</h1>
        <h6 class="text-muted">{{ qt }}</h6>
        <div class="chart-container mx-auto">
            <canvas id="myChart" responsive=true maintainAspectRatio=false></canvas>
        </div>
    </div>
</div>
<script>
var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: '{{graph}}',
    data: {
        labels: ['1','2','3','4','5','6','7','8','9','10',
		'11','12','13','14','15','16','17','18','19','20',
		'21','22','23','24','25','26','27','28','29','30',
		'31','32','33','34','35','36','37','38','39','40',
		'41','42','43','44','45','46','47','48','49','50',
		'51','52'],
        datasets: [{
            label: '# of Tweets',
            data: [{% for item in word_count %}
				{{item}},
			{% endfor %}],
			backgroundColor: [
				{% for item in word_count %}
				'rgba(216, 27, 96, 0.6)',
				{% endfor %}
            ],
            borderColor: [
                {% if graph == "bar" %}
                    {% for item in word_count %}
                    'rgba(216, 27, 96, 1)',
                    {% endfor %}
                {% else %}
                'rgba(0, 0, 0, 1)',
                {% endif %}
            ],
			borderWidth: 1,
            fill: false
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>
<!-- Set whether content is vertically centred -->
{% block vcentered %}false{% endblock %}
{% endblock %}